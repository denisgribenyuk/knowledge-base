## Основные права доступа к файлам
Каждый файл имеет три параметра доступа:
- **Чтение** - разрешает получать содержимое файла, но на запись нет. Для каталога позволяет получить список файлов и каталогов, расположенных в нем;
- **Запись** - разрешает записывать новые данные в файл или изменять существующие, а также позволяет создавать и изменять файлы и каталоги;
- **Выполнение** - вы не можете выполнить программу, если у нее нет флага выполнения. Этот атрибут устанавливается для всех программ и скриптов, именно с помощью него система может понять, что этот файл нужно запускать как программу.

Но все эти права были бы бессмысленными, если бы применялись сразу для всех пользователей. 
Поэтому каждый файл имеет три категории пользователей, для которых можно устанавливать различные сочетания прав доступа:
- **Владелец** - набор прав для владельца файла, пользователя, который его создал или сейчас установлен его владельцем. Обычно владелец имеет все права, чтение, запись и выполнение.
- **Группа** - любая группа пользователей, существующая в системе и привязанная к файлу. Но это может быть только одна группа и обычно это группа владельца, хотя для файла можно назначить и другую группу.
- **Остальные** - все пользователи, кроме владельца и пользователей, входящих в группу файла.

Специальные права доступа:
- **SUID** - если этот бит установлен, то при выполнении программы, id пользователя, от которого она запущена заменяется на id владельца файла. Фактически, это позволяет обычным пользователям запускать программы от имени суперпользователя;
- **SGID** - этот флаг работает аналогичным образом, только разница в том, что пользователь считается членом группы, с которой связан файл, а не групп, к которым он действительно принадлежит. Если SGID флаг установлен на каталог, все файлы, созданные в нем, будут связаны с группой каталога, а не пользователя. Такое поведение используется для организации общих папок;
- **Sticky-bit** - этот бит тоже используется для создания общих папок. Если он установлен, то пользователи могут только создавать, читать и выполнять файлы, но не могут удалять файлы, принадлежащие другим пользователям.

Команда, чтобы узнать права на файл:
```
ls -l
```
Условные значения флагов прав:
```
--- - нет прав, совсем;
--x - разрешено только выполнение файла, как программы но не изменение и не чтение;
-w- - разрешена только запись и изменение файла;
-wx - разрешено изменение и выполнение, но в случае с каталогом, вы не можете посмотреть его содержимое;
r-- - права только на чтение;
r-x - только чтение и выполнение, без права на запись;
rw- - права на чтение и запись, но без выполнения;
rwx - все права;
--s - установлен SUID или SGID бит, первый отображается в поле для владельца, второй для группы;
--t - установлен sticky-bit, а значит пользователи не могут удалить этот файл.
```
### Как менять права доступа
Чтобы изменить права на файл в linux вы можете использовать утилиту **chmod**. 
Она позволяет менять все флаги, включая специальные. 

Рассмотрим ее синтаксис:
```
chmod опции категориядействиефлаг файл
```
Опции сейчас нас интересовать не будут, разве что только одна. 
С помощью опции -R вы можете заставить программу применять изменения ко всем файлам и каталогам рекурсивно.

_**Категория**_ указывает для какой группы пользователей нужно применять права, как вы помните доступно только три категории:
- u - владелец файла;
- g - группа файла;
- o - другие пользователи.

_**Действие**_ может быть одно из двух: 
- **+** - добавить права 
- **-** - убрать права 

_**Флаги прав доступа**_: 
- r - чтение 
- w - запись
- x - выполнение
- s - suid/sgid
- t - устанавливает sticky-bit. 

**Например:**
- Дадим всем пользователям полный доступ к файлу test5:
```
chmod ugo+rwx test5
```
- Или заберем все права у группы и остальных пользователей:
```
chmod go-rwx test5
```
- Дадим группе право на чтение и выполнение:
```
chmod g+rx test5
```
- Остальным пользователям только чтение:
```
chmod o+r test5
```
- Для файла test6 установим SUID:
```
chmod u+s test6
```
- А для test7 - SGID:
```
chmod g+s test7
```
